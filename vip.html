<!-- vip.html / webapp.html --><!DOCTYPE html><html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Оформление VIP-доступа</title>
  <style>
    body { background: #111; color: white; font-family: sans-serif; margin: 0; padding: 20px; }
    .step { display: none; }
    .active { display: block; }
    .btn { background: #ff007f; border: none; padding: 12px 20px; font-size: 16px; margin-top: 10px; color: white; cursor: pointer; border-radius: 10px; }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; }
    .bar { height: 10px; background: lime; border-radius: 5px; transition: 0.5s; }
    select, option { font-size: 16px; padding: 5px; }
  </style>
</head>
<body>
  <h1>Оформление VIP-доступа</h1>
  <div class="bar" id="progress" style="width: 0%"></div>  <div class="step active" id="step1">
    <p>Выберите тариф и оплатите:</p>
    <select id="plan">
      <option value="1 день">1 день — 200₽</option>
      <option value="1 месяц">1 месяц — 400₽</option>
      <option value="Навсегда">Навсегда — 600₽</option>
    </select>
    <button class="btn" onclick="nextStep(2)">Продолжить</button>
  </div>  <div class="step" id="step2">
    <p>Карта для оплаты: <b>1234 5678 9012 3456 (Тест)</b></p>
    <button class="btn" onclick="nextStep(3)">Я оплатил</button>
  </div>  <div class="step" id="step3">
    <p>Переход в Telegram-бота для загрузки чека:</p>
    <a href="https://t.me/Test_vip_TJBot?start=upload">
      <button class="btn">Загрузить чек</button>
    </a>
    <p id="timer"></p>
  </div>  <script>
    const steps = document.querySelectorAll('.step');
    const progress = document.getElementById('progress');
    let selectedPlan = localStorage.getItem('tarif');

    function nextStep(step) {
      steps.forEach((s, i) => s.classList.toggle('active', i === step - 1));
      progress.style.width = (step * 33.3) + '%';

      if (step === 2) {
        const plan = document.getElementById('plan').value;
        localStorage.setItem('tarif', plan);
      }

      if (step === 3) {
        let sec = 30;
        const timer = document.getElementById('timer');
        timer.textContent = `Окно закроется через ${sec} сек.`;
        const countdown = setInterval(() => {
          sec--;
          timer.textContent = `Окно закроется через ${sec} сек.`;
          if (sec <= 0) {
            clearInterval(countdown);
            window.location.href = 'https://t.me/Test_vip_TJBot?start=upload';
          }
        }, 1000);
      }
    }

    if (selectedPlan) {
      document.getElementById('plan').value = selectedPlan;
    }
  </script></body>
</html>